facade = CreateRectGeometry {
    width: 30, height: 20
}

facade_extrusion = ExtrudeGeometry {
    amount: -5
}

facade>out -> in<facade_extrusion;

first_floor = Split {
    axis: "y",
    split_count: 3,
    split_1: 3,
    split_2: 15,
    split_3: 2
}

first_floor_split = Split {
    axis: "x",
    split_count: 3,
    split_1: 13,
    split_2: 4,
    split_3: 13
}

door = ExtrudeGeometry {
    amount: 0.5
}

middle_floors = RepeatSplit {
    size: 2,
    axis: "y",
    adjust: true
}

middle_floors_tiles = RepeatSplit {
    size: 2,
    axis: "x",
    adjust: true
}

top_floor_extrude = ExtrudeGeometry {
    amount: 0.5
}

export_geometry = ExportGeometry {
    path: $< "regression_results/banner/geometry" + op.count + ".obj"; >$
}

facade>out -> in<first_floor;

first_floor>split_1 -> in<first_floor_split;
first_floor>split_2 -> in<middle_floors;
first_floor>split_3 -> in<top_floor_extrude;
first_floor_split>split_1 -> in<export_geometry;
first_floor_split>split_2 -> in<door;
first_floor_split>split_3 -> in<export_geometry;

door>out -> in<export_geometry;

middle_floors>out -> in<middle_floors_tiles;
middle_floors_tiles>out -> in<export_geometry;

top_floor_extrude>out -> in<export_geometry;
facade_extrusion>out -> in<export_geometry;
